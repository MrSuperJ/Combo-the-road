<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Tab</title>
  <link rel="stylesheet" href="styles/main.css">
</head>

<body>
    <center>
      <h4>原生Js function方式</h4>
    </center>
  <main>
    <div class="tabs" data-role='tabs'>
      <ol data-role="tabs-nav">
        <li>TODO</li>
        <li class='active'>ARCHIVE</li>
      </ol>
      <div class="panel-pool">
        <ol data-role="tabs-panel">
          <li class='active'>
            <div class="tip">1</div>
          </li>
          <li>
            <div class="tip">2</div>
          </li>
        </ol>
      </div>
    </div>
  </main>

  <center>
    <h4>原生JS + Class语法糖</h4>
  </center>
  <main>
    <div class="tabs-class" data-role='tabs'>
      <ol data-role="tabs-nav">
        <li>TODO</li>
        <li class='active'>ARCHIVE</li>
      </ol>
      <div class="panel-pool">
        <ol data-role="tabs-panel">
          <li class='active'>
            <div class="tip">1</div>
          </li>
          <li>
            <div class="tip">2</div>
          </li>
        </ol>
      </div>
    </div>
  </main>

  <center>
    <h4>TODO: jQuery + Class语法糖</h4>
  </center>
  <main>
    <div class="tabs-class" data-role='tabs'>
      <ol data-role="tabs-nav">
        <li>TODO</li>
        <li class='active'>ARCHIVE</li>
      </ol>
      <div class="panel-pool">
        <ol data-role="tabs-panel">
          <li class='active'>
            <div class="tip">1</div>
          </li>
          <li>
            <div class="tip">2</div>
          </li>
        </ol>
      </div>
    </div>
  </main>
  <script src="scripts/index.js"></script>
  <script src="scripts/index2.js"></script>
  <script>
    window.onload = function () {
      // 没有实现多个 匹配的class批量操作
      new Tabs({
        el: '.tabs',
      })
      // 修改成为class多选的
      new TabsC({
        el: '.tabs-class',
      })

    }


    function searchEl(Selector, el, parent) {
      parent = parent || document.documentElement
      // console.info(Selector, el, parent)
      while (!el.matches(Selector)) {
        if (el === parent) {
          el = null
          break
        }
        el = el.parentNode
      }
      // console.info(el)
      return el
    }
    function numEl(el,parent) {
      parent = parent || document
      let pool = parent.querySelectorAll('[data-role="tabs-nav"]>li')
      let index = -1
      for (var i = 0; i < pool.length; i++) {
        // console.info(el, pool[i])
        if (el === pool[i]) {
          index = i
          break
        }
        continue
      }
      return index
    }
  </script>
</body>

</html>